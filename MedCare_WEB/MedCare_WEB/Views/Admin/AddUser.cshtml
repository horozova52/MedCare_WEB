
@{
     ViewBag.Title = "AddUser";
     Layout = "~/Views/Shared/_Layout.cshtml";
     var usersList = ViewBag.usersList;
}
@model MedCare_WEB.Models.AddUser

<section class="mt-5 ftco-section ftco-no-pt ftco-no-pb ftco-services-2 bg-light">
     <div class="container">
          <div class="row d-flex">
               <div class="d-flex col-lg-12">
                    <div class="appointment-wrap bg-white p-md-5">
                         @Html.ValidationSummary(true)
                         @using (Html.BeginForm("AddUser", "Admin", FormMethod.Post))
                         {
                              @Html.AntiForgeryToken()
                              <form action="#" class="appointment-form ftco-animate">
                                   <div class="row d-flex align-items-center">
                                        <div class="form-group col-lg-12">
                                             @Html.TextBoxFor(m => m.Username, new
                                        {
                                             type = "text",
                                             @class = "form-control",
                                             placeholder = "Username",
                                             required = true,
                                        })
                                        </div>
                                        <div class="form-group col-lg-12">
                                             @Html.TextBoxFor(m => m.Email, new
                                        {
                                             type = "email",
                                             @class = "form-control",
                                             placeholder = "Email",
                                             required = true,
                                        })
                                        </div>
                                        <div class="form-group  col-lg-12">
                                             @Html.TextBoxFor(m => m.Password, new
                                        {
                                             type = "password",
                                             @class = "form-control",
                                             placeholder = "Password",
                                             required = true,
                                        })
                                        </div>
                                        <div class="form-group  col-lg-12">
                                             @Html.TextBoxFor(m => m.Level, new
                                        {
                                             type = "number",
                                             @class = "form-control",
                                             placeholder = "Level (0 - user, 1 - moderator, 2 - admin)",
                                             required = true,
                                             min = 0,
                                             max = 2
                                        })
                                        </div>
                                        <button class="btn btn-primary  col-lg-12" href="#" type="submit">Add User</button>
                                   </div>
                              </form>
                         }
                    </div>
               </div>
          </div>
     </div>
</section>

<section class="ftco-section" id="doctor-section">
     <div class="container-fluid px-5">
          <div class="row">
               @foreach (var user in usersList)
               {
                    <div class="col-md-6 col-lg-3 ftco-animate border">
                         <div class="staff">
                              <div class="text pt-3 text-center">
                                   <h3 class="mb-2">@user.Username</h3>
                                   <span class="position mb-2">@user.Email</span>
                                   <span class="position mb-2">@user.Level</span>
                              </div>
                         </div>
                         <div class="text-center mb-2">
                              <a class="btn btn-sm btn-info" href="@Url.Action("EditUser", "Admin", new { id = user.Id })">Edit</a>
                              <a class="btn btn-sm btn-danger" href="@Url.Action("DeleteUser", "Admin", new {id = user.Id})">Delete</a>
                         </div>
                    </div>
               }
          </div>
     </div>
</section>